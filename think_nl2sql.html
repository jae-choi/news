<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자연어와 데이터 사이의 간극 | Peter Choi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .en body {
            font-family: 'Roboto', sans-serif;
        }
        .prose h1, .prose h2, .prose h3, .prose strong {
            color: #1f2937;
        }
        .prose p, .prose li, .prose th, .prose td {
            color: #4b5563;
        }
        .quote-block {
            border-left: 4px solid #93c5fd;
            padding-left: 1rem;
            font-style: italic;
            color: #374151;
        }
        .lang-btn.active {
            font-weight: 700;
            color: #2563eb;
            text-decoration: underline;
        }
        .prose code {
            background-color: #e9ecef;
            color: #c7254e;
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 6px;
        }
    </style>
</head>
<body class="bg-slate-50">
    <div class="container mx-auto max-w-4xl px-4 py-12 sm:py-20">
        
        <div class="text-right mb-4">
            <button id="btn-ko" class="lang-btn active" onclick="switchLang('ko')">한국어</button>
            <span class="text-gray-400">/</span>
            <button id="btn-en" class="lang-btn" onclick="switchLang('en')">English</button>
        </div>

        <article class="bg-white rounded-lg shadow-lg p-8 sm:p-12 prose lg:prose-lg">
            
            <header class="mb-8 text-center">
                <h1 class="lang lang-ko text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">자연어와 데이터 사이의 간극</h1>
                <h1 class="lang lang-en text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl" style="display:none;">The Gap Between Natural Language and Data</h1>
            </header>
            
            <figure class="my-8">
                <svg class="w-full h-full rounded-lg" viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="NL2SQL Philosophy Infographic">
                    <rect width="200" height="120" fill="#f7fafc"/>
                    <g>
                        <path d="M 40 40 C 20 40, 20 60, 40 60 C 40 80, 60 80, 60 60 C 80 60, 80 40, 60 40 C 60 20, 40 20, 40 40 Z" fill="#A1887F" fill-opacity="0.3"/>
                        <text x="50" y="55" font-family="Playfair Display" font-size="24" text-anchor="middle" fill="#1a202c">?</text>
                        <text x="50" y="80" font-family="Inter" font-size="9" text-anchor="middle" fill="#4a5568">Why?</text>
                    </g>
                    <path d="M 80 60 C 100 40, 100 80, 120 60" stroke="#3D5A80" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
                    <text x="100" y="50" font-family="Inter" font-size="9" text-anchor="middle" fill="#3D5A80">LLM</text>
                    <g>
                        <ellipse cx="150" cy="60" rx="25" ry="10" fill="#3D5A80"/>
                        <path d="M 125 60 V 80 C 125 85.523, 136.193 90, 150 90 C 163.807 90, 175 85.523, 175 80 V 60" fill="#3D5A80" stroke="#1a202c" stroke-width="0.5"/>
                        <text x="150" y="75" font-family="monospace" font-size="8" fill="white" text-anchor="middle">SELECT *</text>
                    </g>
                </svg>
                <figcaption class="lang lang-ko text-center text-sm text-gray-500 mt-2">인간의 '왜?'라는 질문이 LLM을 통해 기계가 이해하는 언어로 번역됩니다.</figcaption>
                <figcaption class="lang lang-en text-center text-sm text-gray-500 mt-2" style="display:none;">The human question of 'Why?' is translated by an LLM into a language the machine can understand.</figcaption>
            </figure>

            <div class="quote-block my-12">
                <p class="lang lang-ko text-lg leading-relaxed">우리가 던지는 비즈니스 질문과 데이터베이스가 이해하는 언어(SQL) 사이에는 본질적인 의미의 간극이 존재합니다. 예를 들어, “어제 가입한 신규 사용자 중 특정 상품을 구매한 사람들의 연령 분포는?” 이라는 질문은, 데이터베이스 입장에서는 <code>JOIN</code>, <code>WHERE</code>, <code>GROUP BY</code> 같은 구조적 구문으로 번역되어야만 이해할 수 있습니다.</p>
                <p class="lang lang-en text-lg leading-relaxed" style="display:none;">A fundamental semantic gap exists between the business questions we ask and the language a database understands (SQL). For example, a question like, “What is the age distribution of new users who signed up yesterday and purchased a specific product?” must be translated into structured clauses like <code>JOIN</code>, <code>WHERE</code>, and <code>GROUP BY</code> for a database to comprehend it.</p>
            </div>

            <section class="mt-12">
                <h2 class="lang lang-ko text-3xl font-bold mb-6 border-b pb-2">1. 실제 구현을 위한 기술 아키텍처</h2>
                <h2 class="lang lang-en text-3xl font-bold mb-6 border-b pb-2" style="display:none;">1. Technical Architecture for Real-World Implementation</h2>
                <p class="lang lang-ko">전체 흐름은 다음과 같습니다: <br> [사용자] → [① 사용자 UI] → [② 백엔드 서버] ↔ [③ LLM API] → [④ Redash API] → [⑤ BigQuery]</p>
                <p class="lang lang-en" style="display:none;">The overall flow is as follows: <br> [User] → [① User UI] → [② Backend Server] ↔ [③ LLM API] → [④ Redash API] → [⑤ BigQuery]</p>
                <ul class="list-decimal list-inside space-y-2 mt-4">
                    <li><strong><span class="lang lang-ko">사용자 UI:</span><span class="lang lang-en" style="display:none;">User UI:</span></strong> <span class="lang lang-ko">사용자가 자연어 질문을 입력하는 전용 웹 인터페이스</span><span class="lang lang-en" style="display:none;">A dedicated web interface for users to input natural language questions.</span></li>
                    <li><strong><span class="lang lang-ko">백엔드 서버 (오케스트레이터):</span><span class="lang lang-en" style="display:none;">Backend Server (Orchestrator):</span></strong> <span class="lang lang-ko">전체 흐름을 제어하는 두뇌. LLM 호출 및 Redash API 연동 담당</span><span class="lang lang-en" style="display:none;">The brain that controls the entire flow, handling LLM calls and Redash API integration.</span></li>
                    <li><strong><span class="lang lang-ko">LLM API (번역기):</span><span class="lang lang-en" style="display:none;">LLM API (Translator):</span></strong> <span class="lang lang-ko">백엔드로부터 질문 + 스키마 정보를 받아 정밀한 BigQuery SQL로 변환</span><span class="lang lang-en" style="display:none;">Receives questions and schema information from the backend to translate them into precise BigQuery SQL.</span></li>
                    <li><strong><span class="lang lang-ko">Redash API (실행 및 시각화):</span><span class="lang lang-en" style="display:none;">Redash API (Execution & Visualization):</span></strong> <span class="lang lang-ko">생성된 SQL을 Redash로 전송하고 결과를 시각화</span><span class="lang lang-en" style="display:none;">Sends the generated SQL to Redash for execution and visualizes the results.</span></li>
                    <li><strong><span class="lang lang-ko">BigQuery (데이터 소스):</span><span class="lang lang-en" style="display:none;">BigQuery (Data Source):</span></strong> <span class="lang lang-ko">실제 쿼리가 실행되는 데이터 웨어하우스</span><span class="lang lang-en" style="display:none;">The data warehouse where the actual query is executed.</span></li>
                </ul>
            </section>

            <section class="mt-12">
                <h2 class="lang lang-ko text-3xl font-bold mb-6 border-b pb-2">2. 핵심 과제: 스키마 인식과 의미 매핑</h2>
                <h2 class="lang lang-en text-3xl font-bold mb-6 border-b pb-2" style="display:none;">2. Core Challenge: Schema Awareness and Semantic Mapping</h2>
                <p class="lang lang-ko">이 구조의 성공은 LLM이 데이터 스키마를 얼마나 잘 이해하고 자연어 개념을 정확히 SQL로 매핑하느냐에 달려 있습니다.</p>
                <p class="lang lang-en" style="display:none;">The success of this architecture depends on how well the LLM understands the data schema and accurately maps natural language concepts to SQL.</p>
                <p class="lang lang-ko">예를 들어, <code>WHERE DATE(signup_timestamp) = CURRENT_DATE() - 1</code> 같은 쿼리를 정확히 생성하도록 LLM을 프롬프트 엔지니어링이나 라이트 파인튜닝을 통해 유도해야 합니다. 이는 단순한 기술 구현을 넘어 의미 기반 해석 능력을 요구하는 작업입니다.</p>
                <p class="lang lang-en" style="display:none;">For instance, the LLM must be guided through prompt engineering or light fine-tuning to accurately generate queries like <code>WHERE DATE(signup_timestamp) = CURRENT_DATE() - 1</code>. This task requires more than just technical implementation; it demands a capacity for semantic interpretation.</p>
            </section>

            <section class="mt-12">
                <h2 class="lang lang-ko text-3xl font-bold mb-6 border-b pb-2">3. 실전에서 마주치는 복잡한 과제들</h2>
                <h2 class="lang lang-en text-3xl font-bold mb-6 border-b pb-2" style="display:none;">3. Complex Challenges in Practice</h2>
                <ul class="list-disc list-inside space-y-3">
                    <li><strong><span class="lang lang-ko">쿼리 검증 및 비용 최적화:</span><span class="lang lang-en" style="display:none;">Query Validation & Cost Optimization:</span></strong> <span class="lang lang-ko">생성된 SQL의 성능과 비용을 백엔드에서 검증하는 로직 필요</span><span class="lang lang-en" style="display:none;">Logic is needed on the backend to validate the performance and cost of the generated SQL.</span></li>
                    <li><strong><span class="lang lang-ko">질문 모호성 해결:</span><span class="lang lang-en" style="display:none;">Resolving Ambiguity:</span></strong> <span class="lang lang-ko">예) “인기 있는 상품” 같은 표현을 해석하기 위한 정책 수립 필요</span><span class="lang lang-en" style="display:none;">Policies must be established to interpret ambiguous phrases like “popular products.”</span></li>
                    <li><strong><span class="lang lang-ko">데이터 거버넌스와 보안:</span><span class="lang lang-en" style="display:none;">Data Governance & Security:</span></strong> <span class="lang lang-ko">백엔드는 사용자 권한을 확인하고 데이터 접근을 통제하는 관문 역할 수행</span><span class="lang lang-en" style="display:none;">The backend acts as a gateway, verifying user permissions and controlling data access.</span></li>
                </ul>
            </section>

            <footer class="mt-16 pt-8 border-t">
                 <div class="quote-block">
                    <h2 class="lang lang-ko text-2xl font-semibold mb-4">결론: ‘好奇心의 민주화’를 향한 문화적 전환</h2>
                    <h2 class="lang lang-en text-2xl font-semibold mb-4" style="display:none;">Conclusion: A Cultural Shift Towards the 'Democratization of Curiosity'</h2>
                    <p class="lang lang-ko text-lg leading-relaxed">Text-to-SQL 기술이 가져오는 변화는 단순한 <strong>효율 향상</strong>을 넘어 <strong>문화의 전환</strong>을 의미합니다. <strong>"어떻게"</strong> 질문해야 하는지(SQL을 작성하는 기술)를 몰라도 되는 순간, 사람의 가치는 <strong>"무엇을"</strong> 그리고 <strong>"왜"</strong> 질문할 것인가로 이동합니다. 기술은 <strong>문법</strong>을 처리하고, 사람은 <strong>맥락과 전략</strong>을 다룹니다. 이 여정의 궁극적인 목적은 기술 배경과 무관하게 모든 구성원이 자유롭게 데이터 기반 <strong>호기심</strong>을 탐색할 수 있는 <strong>조직 문화</strong>를 만드는 것입니다. 그리고 그 <strong>호기심</strong>이, 조직을 한 걸음 더 나아가게 할 다음 질문을 만들어낼 것입니다.</p>
                    <p class="lang lang-en text-lg leading-relaxed" style="display:none;">The change brought by Text-to-SQL technology signifies more than just an <strong>increase in efficiency</strong>; it represents a <strong>cultural transformation</strong>. The moment we no longer need to know <strong>"how"</strong> to ask (the skill of writing SQL), the value of a person shifts to <strong>"what"</strong> and <strong>"why"</strong> they ask. Technology handles the <strong>syntax</strong>, while people handle <strong>context and strategy</strong>. The ultimate goal of this journey is to create an organizational culture where all members, regardless of their technical background, can freely explore their <strong>data-driven curiosity</strong>. And it is that <strong>curiosity</strong> that will generate the next questions to move the organization forward.</p>
                </div>
            </footer>
        </article>

        <div class="mt-16 text-center">
            <a href="https://jae-choi.github.io/news/think_nl2sql.html" class="text-xl font-semibold text-blue-600 hover:text-blue-800 transition-colors">
                <span class="lang lang-ko">다음 글 : 기술의 구현</span>
                <span class="lang lang-en" style="display:none;">Next Article : Technical Implementation</span>
            </a>
        </div>
    </div>

    <script>
        const titles = {
            ko: '자연어와 데이터 사이의 간극 | Peter Choi',
            en: 'The Gap Between Natural Language and Data | Peter Choi'
        };

        function switchLang(lang) {
            document.documentElement.lang = lang;
            document.documentElement.className = lang;

            document.title = titles[lang];

            document.querySelectorAll('.lang').forEach(el => {
                if (el.classList.contains(`lang-${lang}`)) {
                    el.style.display = '';
                } else {
                    el.style.display = 'none';
                }
            });

            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`btn-${lang}`).classList.add('active');
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage;
            if (userLang.startsWith('en')) {
                switchLang('en');
            } else {
                switchLang('ko');
            }
        });
    </script>
</body>
</html>
